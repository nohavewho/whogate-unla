database:
  type: "${DB_TYPE:sqlite}"
  host: "${DB_HOST:localhost}"
  port: ${DB_PORT:5432}
  user: "${DB_USER:postgres}"
  password: "${DB_PASSWORD:example}"
  dbname: "${DB_NAME:./mcp-gateway.db}"
  sslmode: "${DB_SSL_MODE:disable}"

# Storage configuration
storage:
  type: "${GATEWAY_STORAGE_TYPE:db}"  # disk or db
  # Database configuration (only used when type is db)
  database:
    type: "${GATEWAY_DB_TYPE:sqlite}"
    host: "${GATEWAY_DB_HOST:localhost}"
    port: ${GATEWAY_DB_PORT:5432}
    user: "${GATEWAY_DB_USER:postgres}"
    password: "${GATEWAY_DB_PASSWORD:example}"
    dbname: "${GATEWAY_DB_NAME:./data/mcp-gateway.db}"
    sslmode: "${GATEWAY_DB_SSL_MODE:disable}"
  # Disk configuration (only used when type is disk)
  disk:
    path: "${GATEWAY_STORAGE_DISK_PATH:}"

# Notifier configuration
notifier:
  # Type of notifier to use (signal, api, redis, composite)
  type: "${NOTIFIER_TYPE:signal}"

  # Signal configuration (only used when type is signal)
  signal:
    signal: "${NOTIFIER_SIGNAL:SIGHUP}"
    pid: "${NOTIFIER_SIGNAL_PID:/var/run/mcp-gateway.pid}"

  # API configuration (only used when type is api)
  api:
    port: ${NOTIFIER_API_PORT:5235}

  # Redis configuration (only used when type is redis)
  redis:
    addr: "${NOTIFIER_REDIS_ADDR:localhost:6379}"
    password: "${NOTIFIER_REDIS_PASSWORD:UseStrongPasswordIsAGoodPractice}"
    db: ${NOTIFIER_REDIS_DB:0}
    topic: "${NOTIFIER_REDIS_TOPIC:mcp-gateway:reload}"

openai:
  api_key: "${OPENAI_API_KEY}"
  model: "${OPENAI_MODEL:gpt-4.1}"
  base_url: "${OPENAI_BASE_URL:https://api.openai.com/v1/}"

gateway_pid: "${MCP_GATEWAY_PID:/var/run/mcp-gateway.pid}"
